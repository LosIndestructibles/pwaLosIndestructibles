<!DOCTYPE html> 
<html lang="es" class="light dark">

<head>
 <meta charset="UTF-8">
 <title>Archivos - PWA</title>

 <script src="js/registraServiceWorker.js"></script>

 <meta name="viewport" content="width=device-width">
 <meta name="theme-color" content="#fffbfe">
 <link rel="icon" sizes="32x32" href="favicon.ico">
 <link rel="manifest" href="site.webmanifest">
 <script src="ungap/custom-elements.js"></script>

 <script type="module" src="js/configura.js"></script>
 <link rel="stylesheet" href="css/estilos.css">
 <link rel="stylesheet" href="css/transicion_pestanas.css">
</head>

<body>

 <h1 id="headline">PWA - Archivos</h1>

 <!-- Barra de pestañas igual que en index -->
 <nav-tab-fixed id="tab">
  <a href="index.html" class="tab">Geolocalización</a>
  <a href="secundaria.html" class="tab active">Archivos</a>
  <a href="navTabFixed.html" class="tab">Cámara</a>
  <a href="ayuda.html" class="tab">Ayuda</a>
 </nav-tab-fixed>

 <main>
  <p>
    <label class="md-filled-text-field float">
     <span>Foto de Móvil</span>
     <input type="file" accept="image/*" capture="camera">
    </label>
  </p>
  <p>
    <label class="md-filled-text-field float">
     <span>Video de Móvil</span>
     <input type="file" accept="video/*" capture="">
    </label>
  </p>
  <p>
    <label class="md-filled-text-field float">
     <span>Archivo</span>
     <input type="file">
    </label>
  </p>
 </main>

 <style>
   nav-tab-fixed {
     display: flex;
     justify-content: space-around;
     position: fixed;
     bottom: 0;
     left: 0;
     right: 0;
     background: #f3e5f5;
     padding: 10px 0;
     border-top: 1px solid #ccc;
   }

   nav-tab-fixed .tab {
     text-decoration: none;
     color: #6A1B9A;
     font-weight: 500;
     font-size: 14px;
   }

   nav-tab-fixed .tab.active {
     font-weight: 700;
     border-bottom: 2px solid #6A1B9A;
   }

   main {
     padding: 16px;
     margin-bottom: 60px;
   }
 </style>

 <!-- 🌀 Swipe para cambiar de página -->
 <script>
 document.addEventListener("DOMContentLoaded", () => {
   let startX = 0;
   let endX = 0;
   const threshold = 80;

   document.addEventListener("touchstart", e => {
     startX = e.changedTouches[0].screenX;
   });

   document.addEventListener("touchend", e => {
     endX = e.changedTouches[0].screenX;
     handleSwipe();
   });

   function handleSwipe() {
     const delta = endX - startX;
     if (Math.abs(delta) < threshold) return;

     const pages = ["index.html", "archivos.html", "camara.html", "ayuda.html"];
     const current = location.pathname.split("/").pop() || "index.html";
     const currentIndex = pages.indexOf(current);

     if (delta < 0 && currentIndex < pages.length - 1) {
       location.href = pages[currentIndex + 1];
     } else if (delta > 0 && currentIndex > 0) {
       location.href = pages[currentIndex - 1];
     }
   }
 });
 </script>

</body>
</html>
